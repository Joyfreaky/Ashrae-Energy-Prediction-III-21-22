# -*- coding: utf-8 -*-
"""API_integration.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1C4Rm3SQwwlCN7lwLqaF75X1MYoeUJF8x

# Install Kaggle and import dataset from kaggle, then unzip it.
"""

from google.colab import drive
drive.mount ('/content/gdrive')

!pip install kaggle # Install kaggle api

! mkdir -p ~/.kaggle/ && \
  echo '{"username":"joydipbhowmick","key":"79c70eda2d89ecf2e8fc33e4e733b472"}' > ~/.kaggle/kaggle.json && \
  chmod 600 ~/.kaggle/kaggle.json # Create a new direcory use the kaggle token key in that and make it read only to current user.

!kaggle competitions download -c ashrae-energy-prediction # Import the dataset using kaggle api

!unzip ashrae-energy-prediction.zip # Unzip the imported dataset

"""# Clone the git repository where we need to work and copy all the file in the clone before commiting.  """

! ls CMT307-Coursework-2-Group-19 > /dev/null 2> /dev/null || \
 git clone https://Joyfreaky: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@github.com/Joyfreaky/CMT307-Coursework-2-Group-19.git # Clone the repo from git. # USe your own Personal token and user name, keep the repo name same.

! touch API_integration.py # Create new python file

! python API_integration.py # Define python file

! cp API_integration.py /content/ /content/CMT307-Coursework-2-Group-19/  # Just to copy the csv files in the repo directory.

# Commented out IPython magic to ensure Python compatibility.
# Go inside the git repo directory

# %cd CMT307-Coursework-2-Group-19/

! git status

! git branch --list # To see the list of Branch

! git branch EDA_Analysis # Create a New branch named 'Data'

! git checkout EDA_Analysis  # Switch to the branch 'Data' to commit any new chnages.

! git add -A # Add all the files

! git config --global user.email "bhowmick.joydip2@gmail.com" # Replace your email ID
! git config --global user.name "Joyfreaky" # Replace your user name

! git config --global remote.origin.url https://Joyfreaky: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@github.com/Joyfreaky/CMT307-Coursework-2-Group-19.git

! git config --list

username = input("Enter username: ") # Enter your user name

from getpass import getpass
password = getpass("Enter Password") # Enter your password

# Commit in the git repo. 

! git commit -m "This is the first EDA file, I am uploading" # Change the message everytime you commit.

! git push origin EDA_Analysis # Do not push it to the main branch unless your code is complete, make a new branch and push there.